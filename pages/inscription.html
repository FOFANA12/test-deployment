<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inscription - Budget App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="../Pages/style.css" />
</head>

<body>
    <div class="container-fluid bg-white mb-2 shadow-sm border-bottom">
        <div class="d-flex align-items-center p-3">
            <a href="rewards.html" class="text-dark text-decoration-none">
            </a>
            <h5 class="mb-0 fw-semibold flex-grow-1 text-center me-4">Inscription</h5>
        </div>
    </div>

    <form id="registerForm" class="container-md shadow-sm p-4 rounded-3 border w-75">
        <div class="mb-3 px-3">
            <label for="nom" class="form-label ">Nom complet</label>
            <input type="text" class="form-control" id="nom" placeholder="saisir votre nom" required />
        </div>
        <div class="mb-3 px-3">
            <label for="email" class="form-label">Adresse Mail</label>
            <input type="email" class="form-control" id="email" placeholder="saisir adresse mail" required />
        </div>
        <div class="mb-3 px-3">
            <label for="motdepasse" class="form-label">Mot de passe</label>
            <input type="password" class="form-control" id="motdepasse" placeholder="saisir mot de passe" required />
        </div>
        <div class="mb-3 px-3">
            <label for="confirmmotdepasse" class="form-label">Confirmer Mot de passe</label>
            <input type="password" class="form-control" id="confirmmotdepasse" placeholder="confirmer mot de passe"
                required />
        </div>
        <div class="d-grid px-3">
            <button type="submit" class="btn btn-primary btn-lg">S'inscrire</button>
        </div>
    </form>

    <script>
        //  Assurez-vous que l'ID dans le HTML correspond (registerForm)
        const registerForm = document.getElementById("registerForm");

        registerForm.addEventListener("submit", function (event) {
            event.preventDefault();  // Empêche le rechargement de la page

            // Récupération des valeurs des champs
            const nom = document.getElementById("nom").value.trim();
            const email = document.getElementById("email").value.trim();
            const motdepasse = document.getElementById("motdepasse").value.trim();
            const confirmMotDePasse = document.getElementById("confirmmotdepasse").value.trim();

            if (!nom || !email || !motdepasse || !confirmMotDePasse) {
                alert("Tous les champs doivent être remplis.");
                return;
            }

            // Validation de l'email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert("Adresse mail invalide.");
                return;
            }

            // Validation de la longueur du mot de passe
            if (motdepasse.length < 6) {
                alert("Le mot de passe doit contenir au moins 6 caractères.");
                return;
            }

            // Correction 4: Comparaison des deux mots de passe
            if (motdepasse !== confirmMotDePasse) {
                alert("Les mots de passe ne correspondent pas.");
                return;
            }

            // Ou un simple log groupé
            console.log("Données reçues :", { nom, email, motdepasse });

            // Simulation d'une inscription réussie
            alert("Compte créé avec succès pour " + nom + " !");

            // Redirection possible
            window.location.href = "login.html";

        });

        // Fin du script
    </script>
</body>
</body>

</html>