<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Market - Budget App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="../Pages/style.css" />
</head>

<body>
    <!-- HEADER -->
    <div class="container-fluid bg-white mb-3 shadow-sm border-bottom">
        <div class="d-flex align-items-center p-2">
            <a href="home.html" class="text-dark text-decoration-none">
                <i class="bi bi-chevron-left fs-4"></i>
            </a>
            <h5 class="mb-0 fw-bold flex-grow-1 text-center me-4">Shopping</h5>
            <span class="small"></span>
        </div>
    </div>

    <!-- SEARCH BAR -->
    <div class="search-bar position-relative px-3 mb-3">
        <input type="text" class="form-control rounded-3 fs-6 ps-5" placeholder="Rechercher des produits..."
            style="height: 50px;" />
        <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y ms-4 text-muted"></i>
    </div>
    <div class="scroll-container px-2">
        <div class="market-card-item px-3">
            <div class="card rounded-4 border-0 p-3 shadow-sm"
                style="background-color: #68c0d1; min-height: 160px; width: 300px;">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="text-center">
                        <img src="../Assets/images/banner5.jpg" alt="Mode" class="rounded-3 bg-white"
                            style="width: 60px; height: 60px; object-fit: contain;">
                        <p class="small mb-0 fw-bold mt-1 text-dark">Electronique</p>
                    </div>
                    <div class="text-end">
                        <h5 class="fw-bold mb-2 text-dark">ACHATS EN<br>LIGNE</h5>
                        <button class="btn btn-sm btn-dark rounded-pill px-3">Plus</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="market-card-item">
            <div class="card rounded-4 border-0 p-3 shadow-sm"
                style="background-color: #131921; min-height: 160px; width: 300px;">
                <div class="d-flex justify-content-between align-items-center text-white">
                    <div><i class="bi bi-amazon fs-1 text-warning"></i>
                        <p class="small mb-0 fw-bold">Amazon</p>
                    </div>
                    <div class="text-end">
                        <h6 class="fw-bold mb-2">PRIME DAY<br>DISPONIBLE</h6>
                        <a href="https://www.amazon.fr"
                            class="btn btn-sm btn-warning rounded-pill px-3 fw-bold">Plus</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="market-card-item">
            <div class="card rounded-4 border-0 p-3 shadow-sm"
                style="background-color: #e1bc2a; min-height: 160px; width: 300px;">
                <div class="d-flex justify-content-between align-items-center text-dark">
                    <div class="text-center">
                        <img src="../Assets/images/logofnac.png" alt="FNAC" class="rounded-3 bg-white p-1"
                            style="width: 50px;">
                        <p class="small mb-0 fw-bold mt-1">FNAC</p>
                    </div>
                    <div class="text-end">
                        <h5 class="fw-bold mb-2">OFFRES<br>ADHÉRENTS</h5><a href="https://www.fnac.com"
                            class="btn btn-sm btn-dark rounded-pill px-3">Plus</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="market-card-item">
            <div class="card rounded-4 border-0 p-3 shadow-sm"
                style="background-color: #3142ac; min-height: 160px; width: 300px;">
                <div class="d-flex justify-content-between align-items-center text-white">
                    <div class="text-center">
                        <img src="../Assets/images/logocdiscount.png" alt="Cdiscount"
                            style="width: 100px; background-color: white;" class="rounded-3 p-1">
                        <p class="small mb-0 fw-bold mt-1">Cdiscount</p>
                    </div>
                    <div class="text-end">
                        <h5 class="fw-bold mb-2">Ventes<br>Flash</h5>
                        <a href="https://www.cdiscount.com"
                            class="btn btn-sm btn-light text-primary rounded-pill px-3 fw-bold">Plus</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="market-card-item">
            <div class="card rounded-4 border-0 p-3 shadow-sm"
                style="background-color: #e38556; min-height: 160px; width: 300px;">
                <div class="d-flex justify-content-between align-items-center text-white">
                    <div class="text-center">
                        <img src="../Assets/images/logoboulanger.png" alt="Boulanger"
                            style="width: 100px; background-color: white;" class="rounded-3 p-1">
                        <p class="small mb-0 fw-bold mt-1">Boulanger</p>
                    </div>
                    <div class="text-end">
                        <h5 class="fw-bold mb-2">Ventes<br>Flash</h5>
                        <a href="https://www.boulanger.com"
                            class="btn btn-sm btn-light text-primary rounded-pill px-3 fw-bold">Plus</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Scroll ... -->
    <div class="scroll-dots d-flex justify-content-center gap-2">
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>

    <!-- A VOIR POURQOUI PAS METTRE D'AUTRES CHOSES ICI 
    <p>Catégories</p>
    <p>Promotions</p> -->

    <!-- FOOTER -->
    <footer class="footer py-2">
        <div class="d-flex justify-content-around align-items-center">
            <a href="./home.html" class="active-link">
                <i class="bi bi-house-door-fill"></i>
                <span>Accueil</span>
            </a>
            <a href="./bankhistory.html" class="footer-link"><i class="bi bi-clock-history"></i><span>Historique</span>
            </a>
            <a href="./myqr.html" class="footer-link">
                <i class="bi bi-qr-code-scan"></i>
                <span>QR</span>
            </a>
            <a href="./rewards.html" class="footer-link">
                <i class="bi bi-gift"></i>
                <span>Récompenses</span></a>
            <a href="./profile.html" class="footer-link">
                <i class="bi bi-person"></i>
                <span>Profil</span>
            </a>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
    </script>

    <script>
        // SCROLL DOTS
        // On sélectionne tous les conteneurs de cartes et leurs groupes de points correspondants
        const scrollContainers = document.querySelectorAll(".scroll-container");
        const allDotsGroups = document.querySelectorAll(".scroll-dots");

        scrollContainers.forEach((container, index) => {
            const dots = allDotsGroups[index].querySelectorAll(".dot");

            let isDown = false;
            let startX;
            let scrollLeft;

            // --- 1. GESTION DES POINTS (SCROLL) ---
            container.addEventListener("scroll", () => {
                // On calcule la progression du scroll
                const maxScroll = container.scrollWidth - container.offsetWidth;
                if (maxScroll <= 0) return;

                const scrollPercentage = container.scrollLeft / maxScroll;
                // Détermine quel point doit être actif
                let activeIndex = Math.round(scrollPercentage * (dots.length - 1));

                dots.forEach((dot, i) => {
                    dot.classList.toggle("active", i === activeIndex);
                });
            });

            // --- 2. GESTION DU GLISSEMENT A LA SOURIS ---
            container.addEventListener("mousedown", (e) => {
                isDown = true;
                container.classList.add("active"); // Pour changer le curseur
                startX = e.pageX - container.offsetLeft;
                scrollLeft = container.scrollLeft;
            });

            container.addEventListener("mouseleave", () => {
                isDown = false;
            });

            container.addEventListener("mouseup", () => {
                isDown = false;
            });

            container.addEventListener("mousemove", (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - container.offsetLeft;
                const walk = (x - startX) * 2; // Vitesse de défilement
                container.scrollLeft = scrollLeft - walk;
            });
        });

    </script>

</body>

</html>