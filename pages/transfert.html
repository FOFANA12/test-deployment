<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transfert - Client</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../Pages/style.css">
</head>

<body>

    <!-- HEADER -->
    <div class="transfer-header">
        <div class="d-flex align-items-center justify-content-between">
            <a href="./mycontact.html">
                <i class="bi bi-chevron-left fs-3 text-white"></i></a>
            <h5 class="mb-5 fw-semibold">Transfert</h5>
            <span></span>
        </div>
    </div>

    <div class="container">
        <!-- BALANCE CARD -->
        <div class="balance-card">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <span class="text-muted small">Solde disponible:</span>
                <span class="fw-bold fs-5">€3.466.9</span>
            </div>
            <div class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center gap-2">
                    <img src="../Assets/images/themesflat.jpg" class="rounded-circle small" width="40">
                    <strong>Themesflat</strong>
                </div>
                <i class="bi bi-chevron-down"></i>
            </div>
        </div>

        <!-- AMOUNT -->
        <div class="form-box mt-3">
            <label for="amountInput" class="form-label text-muted">Montant</label>
            <div class="position-relative">
                <input type="text" id="amountInput" class="form-control border p-2" value="€50">
                <i class="bi bi-x-circle-fill position-absolute top-50 end-0 translate-middle-y me-3 text-muted"
                    style="cursor: pointer;"></i>
            </div>
            <div class="d-flex justify-content-between mt-3">
                <button class="amount-btn active" type="button">€50</button>
                <button class="amount-btn" type="button">€75</button>
                <button class="amount-btn" type="button">€150</button>
            </div>
        </div>

        <!-- EMPLACEMENT DU MESSAGE -->
        <div class="mt-2">
            <label class="form-label text-muted">Message</label>
            <input type="text" id="message" class="form-control amount-input large" placeholder="votre message...">
        </div>
    </div>

    <a href="./paymentsource.html"><button class="btn btn-primary continue-btn w-100">
            Continuer
        </button></a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Script pour la selection du montant
        document.addEventListener("DOMContentLoaded", function () {
            const amountInput = document.getElementById('amountInput');
            const amountButtons = document.querySelectorAll('.amount-btn');

            amountButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Récupérer le montant du bouton cliqué
                    const selectedAmount = this.textContent;

                    // Mettre à jour la valeur de l'input
                    amountInput.value = selectedAmount;

                    //  Gérer l'état visuel "actif"
                    // On retire la classe active de tous les boutons
                    amountButtons.forEach(btn => btn.classList.remove('active'));
                    // On l'ajoute au bouton cliqué
                    this.classList.add('active');
                });
            });
        });

        // script pour l'envoie du message 
        document.addEventListener("DOMContentLoaded", function () {
            // On cible le bouton qui déclenche la suite du processus (votre bouton "Confirmer")
            const btnToOTP = document.querySelector('.continue-btn');

            if (btnToOTP) {
                btnToOTP.addEventListener("click", function () {
                    // 1. Récupérer le message
                    const message = document.getElementById("message").value;

                    // 2. Vérifier si la case est cochée (true ou false)
                    const isSaved = document.getElementById("save-message").checked;

                    // 3. Exemple d'utilisation (Log en console)
                    console.log("Message de transfert :", message);
                    console.log("Sauvegarder le message :", isSaved);

                    // stocker ces variables ou les envoyer à au serveur
                });
            }
        });

        // Effacer le message par défaut au premier clic pour aider l'utilisateur
        const messageInput = document.getElementById("message");
        messageInput.addEventListener("focus", function () {
            if (this.value === "votre message...") {
                this.value = "";
            }
        });




    </script>

</body>

</html>